<?php

$input = <<<TEXT
B Z
A Y
A Y
B X
A Y
B X
A X
B X
B X
B X
C Y
C Y
A X
A Y
A Y
B X
A X
C Y
B Z
A X
B Z
C Y
C Z
A X
C Z
A Y
A X
B Z
B X
A Z
B Z
A X
A Z
B X
B X
C Y
B X
A X
A Y
C Y
B Z
C X
A X
B Z
B Y
B X
A Z
B Z
B Z
A X
B Z
B X
C X
A X
B X
B X
B Z
B X
B Z
A Y
B Z
B X
C Y
A Y
C Y
B Z
A Y
B X
A Y
C Y
A Y
B Z
B Z
C Z
B X
A X
C X
B Y
A Z
C Z
B Z
A Y
A X
B Z
C Z
B X
B Z
A Y
B X
A Y
A Y
A X
C Y
B X
B Z
C Y
B X
B X
C Z
C Y
C Y
A X
B Z
A X
A X
B Y
A Y
B Z
B Z
B Z
A Y
A X
A Y
B X
B Z
A X
B X
B X
C Y
B Z
A X
A Y
B Z
A X
B Z
A Z
A Y
A Z
B Z
A X
A Z
A X
C Y
A Y
A X
B Z
C Z
B Y
B Z
B X
A X
C Y
B Z
B Y
B X
B X
A X
C Y
A Y
B X
A Y
A Y
A Y
B X
A Z
A Y
B X
A X
A Z
B X
B X
C Z
C Y
B X
B X
A Y
C Y
C Y
A X
B Z
B Z
A Y
C Y
B Z
A Y
A Y
A X
B Z
B X
A X
A X
B X
A X
B X
A X
B X
A X
B Y
B Z
A X
B X
B X
B Z
A X
B Z
A Y
B Z
A X
A Z
B X
A X
A Y
C Y
C Y
B Z
A X
C Y
A X
B X
A Y
A X
B X
B X
A Y
A X
A X
A Z
C Y
A X
B X
A X
A X
A X
A Y
A Y
C Z
C Z
A Y
B Z
A X
B X
C Y
B Z
B Z
C Y
C Y
A Y
A Y
A Y
A Y
C Z
A Y
B Z
B Z
C Z
C Y
C Y
C Y
C Y
C X
A X
B Z
B Z
B Z
B Z
C Y
B Z
A X
A X
A X
B Z
A Y
C X
B Z
A X
A Y
B Z
C Z
B X
A X
B Z
A X
A Y
B X
C Y
B X
B Z
A X
B X
B X
A X
B X
B Z
B X
A X
B X
B X
B X
B Z
B X
B Z
C Y
A X
A X
C Y
C Z
A Y
B Z
B Z
A X
B Z
A Y
A X
A Y
A Y
A Y
B Z
C Y
A X
A Y
A Z
B X
A Z
B X
B X
B X
A X
A X
C Y
B X
A X
B Z
A Y
A Y
A X
B Z
A Y
B X
A Y
B Z
C Y
A Y
C X
B X
B Z
C Y
A Y
A X
A X
B Y
C Z
B Z
A Y
A X
A Y
A X
A Y
A Y
A X
A Y
A Z
B X
A X
C Y
A X
C X
A Y
A X
A Y
A X
A X
B X
A X
B Z
A X
C Z
B Z
B Z
A Y
B X
B X
A Y
B X
B X
C Y
A Y
C X
C Y
B Z
A Y
A X
C Z
A X
B X
B X
C X
A Y
B Z
A X
A Z
C Y
B Z
C Y
C X
A Y
B Z
B Z
A Y
B Z
B X
B X
B Z
B Z
B X
C Y
A Y
A X
A Y
B Z
A X
A Y
A Y
A X
B X
A Z
A X
B Z
B Z
A X
C Y
C Y
A Y
A X
A Y
B Z
B Z
B X
B Z
A Y
A X
A Y
A Y
A Z
C Y
C Z
A X
C Y
A Y
A X
A Y
A X
C Z
B Z
B X
B X
B X
A X
A Z
B Z
B X
B X
B X
B X
B X
B X
C Y
B X
B Z
A X
C Z
A X
C X
B Z
A X
A Y
A Z
C Y
B X
C Z
C Y
A Z
B Z
C X
A Y
A Z
B Z
B Z
B Z
A X
A X
B X
A X
B Y
A X
A Y
A Y
B X
A Y
B X
C Z
A Y
C Y
A X
A X
A Y
B X
B Z
A X
B X
B Z
A Z
C Z
B Z
B X
A X
A X
B X
A X
A Y
A Y
B Z
A X
A X
A X
A X
C Y
C Z
A X
A Z
A X
B X
A X
B X
B Z
B X
C Y
B Z
A X
B Z
A Z
A Y
A Y
A X
A X
B Z
A Y
A X
A X
B X
B Z
A Z
A Y
A Z
B X
B Z
A Y
A Z
B X
B Z
A Z
A Y
A Y
A X
A Y
B Z
A Y
A X
A X
A Y
A Y
A X
A Y
A X
C Y
B Z
B X
B X
B X
A X
B Z
B Z
A X
B Z
A Y
C Y
C Y
A Y
B Z
B X
C Y
A X
A Z
B X
B X
C Y
A X
B X
B Z
A Y
A X
B Z
A Y
A Y
C Z
B Z
B Z
A X
C Y
A Y
A Z
A Y
C Z
B Z
A Y
C Z
B X
A X
B X
B X
C Y
A Y
B Y
A Y
B X
A Y
A Y
B X
B Z
B X
A Y
A Y
C Y
C Y
A Y
C Y
A Z
B Z
A X
A Z
A X
C Y
A X
A X
B Z
B Z
C X
C Z
A X
C Y
B Z
B X
A Y
A X
A X
B Z
A X
A Y
A Y
A X
B Z
C Y
A Y
B Z
A Y
B X
A X
A X
A Y
A X
B Z
C Y
A X
A Z
B Z
B Z
A X
C Y
A X
B X
A X
A X
B X
A X
B X
B Z
C X
A X
C Y
C Y
B Z
B X
C Y
C X
A Y
B X
A Y
B Z
C Z
B Z
A Y
A X
B X
A Y
A Y
B Z
B X
A Y
B X
A X
A Y
B Z
B X
A Z
A Y
A X
A Y
B Z
B Z
A X
A X
B Z
A X
B Z
A X
B X
B X
A X
A Y
B X
A Y
A X
B X
B X
B Z
B X
C X
B Z
A Y
B Z
A Y
A X
B Z
B X
B X
C Y
B X
B X
A X
A Y
A X
B X
C Y
C Z
A X
B X
B X
A Y
B Z
B X
A X
B X
C X
A Y
A Y
A Y
A Y
C Y
A Y
A Y
A X
A Y
B X
A Z
A X
B Z
B X
A X
B Z
A X
B Y
A X
A X
A Y
B X
B Z
C X
A X
A X
A Y
B Z
C Z
A X
C X
B Z
B X
B X
B Z
B Z
A X
C Z
A Y
A Y
B Y
B X
B Y
A X
B Z
B Z
A X
B X
A X
B Z
A Y
A Y
B Y
A Y
A Y
A X
B X
A X
B Z
B X
B Z
C Y
A X
B Z
A Z
A X
A X
B X
B X
A Z
B X
A X
A Z
A X
A Z
A Y
A X
A Z
C X
A X
C Y
B X
A X
B X
B X
B X
B X
A X
B Z
B X
A Y
B X
A Y
B X
B X
A Y
B X
A X
A X
A Y
B Z
A Z
B Z
C Y
B Y
A Y
A X
A Y
B Z
A X
B Z
B X
A X
B X
B X
A X
A Y
B Z
C Y
A Y
B Z
C Y
A X
C Y
A Y
A Y
A X
C Y
A Y
B Z
B Z
A Y
B Z
B Z
C Y
A X
A Y
A Y
C Z
A X
A Y
A Y
A X
A Y
B X
A Y
A X
A Y
B X
B X
A Y
A Y
A Y
C Y
A X
A X
B X
A X
B Z
C Y
B Z
C Y
A X
C Z
C Y
B Z
B Z
A Y
B X
B Z
C Y
A X
A X
A X
B Z
A X
A Y
B Z
C X
C Y
A Z
A X
C Y
A X
A X
B X
C Y
A Z
B Z
C Y
B X
A X
A X
C Y
A X
A X
B Z
B X
A X
A Y
B X
A X
A X
B X
C Y
A Y
C Z
A Y
B Z
A X
B X
B X
A X
B X
B Y
A X
C Y
A Y
A Y
B X
A Y
B X
B Z
A Y
C Y
C Y
A Z
B Z
C Z
B Z
A Z
A Y
B Z
A X
B Z
A Z
A Z
B Z
B X
A X
A X
A X
B X
A X
A Y
C Y
B Z
B X
A X
B Z
B X
B Z
A X
B X
B X
B X
A X
B Z
A X
B X
A X
C Y
A X
A Y
A Z
C Y
A Y
A X
C Y
B Z
A X
B Z
A X
B Z
B Z
B Z
C Z
A Z
B X
A X
A Y
A Y
A Y
B X
C X
A Y
A X
A X
C Y
A Y
A Y
B X
C Y
A Z
A Z
A Y
C Y
B Z
A Z
C Y
A X
B X
B X
B X
A X
C Z
C Y
B Z
B Z
A X
A Y
A Y
A Y
C X
A Z
A X
B X
B Z
B Z
A Z
A X
B Z
A Y
B Z
C X
A X
B Z
A Y
A Y
A X
B Z
B X
A Y
A Y
A Y
A Y
A Z
A X
C Y
A Y
A Y
C Y
C Y
B X
C Y
A X
A Z
B Z
C Y
A Z
A X
A Z
A Y
C Y
B Z
A Y
B X
B X
A X
B X
A Z
B Z
A X
A X
C Y
A Y
C Y
C Y
B X
A X
C X
B X
B Z
A Y
B Z
A X
A Y
B Z
B Z
A Y
A Y
A X
A Y
B Z
A Y
B Z
C Y
C Y
B X
A Z
A Y
C Y
B X
B Z
B X
C Y
B Z
A Y
A Y
B Z
A X
A Z
B X
A X
C Z
B X
B X
B X
C X
C Y
B X
A Y
B Z
B X
B Z
C Y
A X
A Y
A X
B X
B Z
B Z
A X
B X
C Y
C X
B Z
A X
A Y
B Z
B Y
C Y
C Y
A Y
B Z
B X
A Y
B Z
A X
A X
A Y
B Z
A Y
A X
B Z
A X
C Y
A Y
C Z
B Z
C Y
B Z
A Y
C Y
A X
A Y
B X
B Z
B X
B Z
A Y
B X
A Y
B Z
A Y
C Y
A X
A X
B Y
B X
A Y
C X
B Z
B Z
A Y
C Z
B X
A X
A Y
B Z
C Y
C Y
A Y
A Y
B X
C Y
A Y
B X
A X
B X
B Z
A X
A Y
B X
B X
C Y
B Z
A X
A X
B X
C Y
B X
A X
A X
B X
C Z
C Y
B X
B Z
A X
A Y
C Y
A Y
A Y
A Y
B X
C Y
B X
A X
A Y
A X
B Z
A Z
B X
A Y
B X
A Y
B X
B Z
A X
A X
B Z
A X
A Y
B X
B Z
B Z
A X
A Y
A Y
A X
A X
B X
B Z
B Y
A X
C Y
A Y
C Y
A Y
C X
B X
B X
A X
B Z
A X
C Y
B X
C Y
A Z
A X
B Y
A X
B X
B Z
A Z
C Y
A Y
A Z
A Y
A X
A Y
A X
A X
A X
B Z
B Z
C X
A X
C Z
B X
C X
B Z
B Z
A Z
B X
A Y
B Z
C Y
A X
C Y
C Y
B Z
A Y
A Z
A X
B Z
B X
C Z
C Y
A Y
C Z
B X
B Z
C Y
A X
B X
C Z
B Z
C Y
B X
A Y
B Z
C X
A Z
A X
A Y
B Z
B X
B X
B X
B Z
A Z
A X
B Z
B X
A X
A Y
B X
B X
A X
A X
B X
B X
C Y
A Y
C Z
A Y
A Y
A X
B X
B Z
A X
B X
A X
B X
A Y
C Y
A Y
A X
A Y
A Y
C Y
B Z
B Z
A X
A Y
C Y
C Y
A Y
A X
A X
C Y
B X
A Y
B Z
C Y
B Z
A X
A Y
A X
B Z
B X
C Y
A Z
C X
A Y
A X
C X
B X
A Y
A X
B Z
B Z
C Y
A X
A Y
A Y
B X
A Y
A X
C Y
B X
C Y
A Y
A Y
A Y
A X
A X
C Z
B X
C Y
B Z
A X
A Y
B Z
C X
B Z
A X
C Y
C Y
B Z
B Z
A X
C Y
C Y
A Y
C Y
B X
B Z
A Z
C Y
A Z
B Z
A X
B Z
A X
B Z
A X
A Y
A X
B Z
A X
A X
A X
B X
C Y
B Z
B X
A Y
A Y
C Y
B X
A Z
C Z
C Y
A X
A Y
A X
B Z
A X
B X
C Z
A Y
C Y
A Y
A Y
A Z
C Y
A X
B Z
C X
B Z
A X
B Z
B Y
A X
C Y
A X
A Y
B X
A X
B X
A Z
A X
A Y
B X
A Y
B X
C Y
B X
A X
A Y
A X
B X
A X
A X
B X
A Y
B Y
A X
A Y
A X
B X
C Y
A X
A Z
C Y
A Y
C Z
B X
B Z
A Y
C X
A Z
A X
A X
B Z
C X
A Y
A X
A Y
A X
A Y
B Z
B X
A Z
B Z
A X
A Y
B X
B Z
A Y
B Z
C X
B Z
A X
B X
B X
C Y
B X
B Z
A X
A Y
B X
A X
B Z
A X
B Z
B Z
C Y
C Y
B Z
B X
B Z
A X
A Y
A X
B X
B Z
A Y
B Z
B X
B X
B X
B Z
B Z
A X
B X
A Y
B X
C Y
B Z
B Z
B X
C Z
A Y
A Y
B Z
B Z
A X
C Z
A Y
A X
A Y
B X
C Y
A Y
A X
B X
B Z
A Z
A Y
A Z
A X
B X
B X
A Z
A Y
A X
C Y
A Y
A X
C Z
A X
B X
A Y
B X
A Y
A X
A Y
B Z
B Z
C Z
A Y
A X
A Y
A Z
A Y
B Z
B X
A X
A X
B Z
C X
A Y
A X
A Z
C X
C Y
B Z
A Y
B X
B Z
C X
B Z
A Y
B Z
B X
A Y
B Z
B X
A X
B Z
C Y
A Y
B Z
A X
A X
B Z
A X
C Y
A X
B X
B Z
B Z
C Y
A X
B Z
C Z
B Z
A Y
B Z
B Z
A X
B Z
A X
B X
A X
A X
B Z
B X
A Z
B Z
B X
B Z
B Z
B Z
B Z
A Y
B X
A Y
B Z
B X
A X
A X
B X
B Z
C Y
B Z
B X
B Z
B Z
C Y
A X
A Y
B X
A Z
B Z
B Z
A X
A Y
B Z
A Z
A Y
A Y
A Y
A Y
C Y
B Z
A X
A X
B X
A Y
A Y
A Y
A Y
B X
B Z
C Y
B X
B X
A Y
B X
B Z
A X
C X
B X
B X
B X
C X
C Y
A Y
A X
B X
A Z
C X
B Z
C Y
B Z
A Y
A X
B X
B X
B X
A Y
B Z
A Z
C Y
A Y
A X
B Z
C Y
A Y
A X
B Z
C Z
C Y
A Y
A X
A Y
C Z
A Y
B Z
B X
B X
C Z
C Y
C Y
C Z
A Y
A Z
C Z
A Y
A X
B Z
A Y
A X
C X
A Y
C Y
C Y
A X
B Z
B X
A Z
B X
A X
C Y
A Z
B Z
A X
B Z
B X
A Y
C Z
B X
B Z
C Y
A X
B Z
B X
A Y
B X
C X
A X
A X
A X
A X
C Y
C Y
A X
B Z
A X
A Y
A Y
A X
A X
B Z
B Z
B X
A Y
A Z
C Y
A X
A Y
B Z
B X
B X
A X
C X
B Z
C Y
C Z
B Z
A X
B Z
A Y
A Y
A Y
C Z
C Y
A Y
C Y
A Y
A X
B Z
B Z
B X
C Z
A Y
C X
B Z
A Y
B Z
B X
B Z
A X
A X
B Z
C Y
A Z
A Y
B Z
A Z
C Y
B Z
B X
A X
B Z
B X
A X
B Z
A X
A X
B Z
C Y
B Z
A Y
A X
A X
C X
A Y
B Z
C Y
A Z
C Y
B X
A X
B X
C X
C Y
B Z
B Z
A Y
A Z
B X
B Z
A Y
B X
A Z
C Y
C Z
C Y
A Y
C X
C X
B X
A Y
A X
B X
B X
C Z
C X
A X
A Y
B X
B X
C X
B Z
A Y
B Z
A Y
B Z
C Y
A X
A X
B X
B Z
A X
C Y
B X
A X
A X
A Y
A Z
B X
A X
A Y
A Z
B X
B Z
A Y
A X
B X
A Y
C Y
B Y
B X
A Y
C X
A Z
C Y
A X
B Y
C Y
B Z
B X
C Y
C Y
A Y
A X
C X
A Z
A X
B Z
B X
B X
A X
B X
A Z
B X
B Z
B Z
C Z
B Z
B X
C Y
C Y
A Z
C X
A X
B Z
A X
C Y
A X
A Z
B Z
B Z
A X
B Z
B Z
A X
C Z
B Z
B X
C X
A Z
B X
A Y
B Z
C Y
B Z
B X
A Y
B Z
A X
B Z
A Y
A Z
B Z
C Y
C Y
A Z
B Z
B X
B X
C Z
B Z
B Z
A X
A X
A X
A X
A X
C Y
A X
B Z
A X
B Z
C Y
C X
A Y
B X
A X
B Z
A Y
B Z
C X
A Y
B X
A X
A Y
B Z
A Y
A X
B X
B Y
B X
B Z
B X
A X
B X
B X
B X
A Z
A X
A X
B X
C Y
A X
A X
B X
B X
B X
B X
A Y
A X
B Z
A X
A Y
C Y
B Z
A Y
A X
C Z
A X
B Z
A X
B Z
B Z
B Z
C Y
B X
C Y
A Z
B Z
A X
A Y
A Y
A Y
B X
B Z
B Z
A Y
B Z
B Z
B X
A X
B Z
A Y
A Y
A X
B Z
A X
A X
B Z
C Y
B X
A X
A X
A Z
C Y
A X
A X
A X
A X
A X
C Y
A X
A X
B X
B Z
C Z
B X
A Y
B Z
A X
A Y
B Z
B Z
B Z
B Z
A X
A Y
A Y
B X
A Y
A Z
A Y
B Y
A X
B Z
A X
A Y
C Y
B Z
C Y
A X
B Z
A X
A Z
B Z
A X
B X
C Y
A Y
A X
A Z
C Y
A Z
A Y
A Y
A X
A X
A Z
A Y
B X
B Z
B X
B X
C Y
A Y
A X
B X
A X
B Z
A X
A X
B Z
C Y
B X
C Y
A X
B X
C Z
A Y
B X
A Y
A Y
B X
C Y
B Z
A Y
B Z
A Y
A X
A X
A Y
B Z
B Z
A Y
A X
A X
B X
B Z
A Y
A X
C Y
B X
C Y
B Z
B Z
B X
A Y
B X
B X
A X
C Y
C Y
B Z
B X
A Y
C Z
C Z
C Y
A Y
B X
B Z
B X
A X
B Z
A Y
A X
C Y
B X
A Y
B X
A Z
A X
A Y
C Y
A Y
A X
C Y
C Z
B X
A Y
C Y
B Z
B X
A X
B X
B X
C Y
B Z
B Z
B Z
B X
B Z
A Y
B Y
B Z
A Z
A X
B Y
A X
B Z
A Y
B X
A X
B Z
C Z
B Z
B Z
A Y
B X
A X
A X
B X
A Y
A Y
A X
C Z
C X
A Y
C X
A Y
A Z
C Y
A X
B X
A X
B Z
A X
C Y
A Y
B X
C Y
A Y
A Z
A Y
A Y
B Z
C Z
C Y
A Y
A Y
B X
C X
A Z
B Z
C Y
A X
A Y
B X
A Y
C Y
C Z
A Y
B Z
A X
C Y
B X
B Z
A X
C Z
B Z
C Y
C Z
B Z
A X
A Y
A X
B X
B Z
B X
A X
B Z
C Y
A Z
A Z
C Y
A Y
C X
B X
A X
A X
B X
B Z
B X
B Z
B Z
A X
B X
A X
A Y
A X
C Z
B Z
A X
C Z
C Z
C X
A X
B X
A X
A Z
A X
C Z
A X
A X
B Z
C Z
C Y
B Z
B X
A X
A X
A Y
B Z
A Y
B X
B Z
C X
B Z
B X
A Y
B Z
A Z
A Y
A Y
B X
C X
A Y
A Y
C Y
C Y
B Z
B X
C Y
C Y
A Y
A X
A Y
A Y
B Z
B X
A X
B X
B Z
B Z
A Z
A Z
A Z
A X
B X
B Z
A X
B Z
A X
B Z
B X
C Z
B Y
A Y
A Y
A X
A X
B Z
B Z
B X
A Y
C Y
B X
A X
B X
C Y
A X
A X
B X
C Y
C Y
C X
B X
C Y
A Z
B Z
B Z
B Z
B X
B Z
A X
B X
A X
A Y
C Z
B X
TEXT;


$test = <<<TEXT
A Y
B X
C Z
TEXT;

global $scores, $shapes, $wins;

$shapes = [
    'A' => 'Rock',
    'B' => 'Paper',
    'C' => 'Scissors',
    'X' => 'Rock',
    'Y' => 'Paper',
    'Z' => 'Scissors',
];

$scores = [
    'Rock' => 1,
    'Paper' => 2,
    'Scissors' => 3,
    'L' => 0,
    'D' => 3,
    'W' => 6,
];

$wins = [
    'Rock' => 'Scissors',
    'Paper' => 'Rock',
    'Scissors' => 'Paper'
];

$map1 = [
    'A X' => 1 + 3 , 
    'A Y' => 2 + 6 , 
    'A Z' => 3 + 0 , 
    'B X' => 1 + 0 , 
    'B Y' => 2 + 3 , 
    'B Z' => 3 + 6 , 
    'C X' => 1 + 6 , 
    'C Y' => 2 + 0 , 
    'C Z' => 3 + 3 , 
];

$map2 = [
    'A X' => 3 + 0, 
    'A Y' => 1 + 3, 
    'A Z' => 2 + 6, 
    'B X' => 1 + 0, 
    'B Y' => 2 + 3, 
    'B Z' => 3 + 6, 
    'C X' => 2 + 0, 
    'C Y' => 3 + 3, 
    'C Z' => 1 + 6, 
];

function battle($myShape, $otherShape)
{
    global $wins;
    if ($myShape==$otherShape) {
        return 'D';
    }
    if ($wins[$myShape] == $otherShape) {
        return 'W';
    }
    return 'L';
}

function play($me, $other) 
{
    global $shapes, $scores;
    $myShape = $shapes[$me];
    $otherShape = $shapes[$other];
    $battleOutcome = battle($myShape, $otherShape);
    $shapeScore = $scores[$myShape];
    $battleScore = $scores[$battleOutcome];
    $outcome = $shapeScore + $battleScore;
    echo "'$other $me' => {$shapeScore} + {$battleScore} , " . PHP_EOL;
    return $outcome;
}

function processInput1(&$input)
{
    $count = 0;
    $games = explode(PHP_EOL, $input);
    $score = 0;
    foreach($games as $game) {
        echo ++$count . ' '. $game . PHP_EOL;
        $players = explode(' ', $game);
        $other = $players[0];
        $me = $players[1];
        $outcome = play($me, $other);
        $score += $outcome;
    }
    return $score;
}


function processInput2(&$input, &$map)
{
    $count = 0;
    $games = explode(PHP_EOL, $input);
    $score = 0;
    foreach($games as $game) {
        $outcome = $map[$game];
        $score += $outcome;
    }
    return $score;
}


foreach(['A', 'B', 'C'] as $other) {
    foreach(['X', 'Y', 'Z'] as $me ) {
        play($me, $other);
    }
}

dd(processInput2($input, $map2));
